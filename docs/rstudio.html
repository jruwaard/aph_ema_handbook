<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Ecological Momentary Assessment in Mental Health Research</title>
  <meta name="description" content="This is an Amsterdam Public Health (APH) Research Manual, written for researchers who are planning Ecological Momentary Assessment (EMA) studies.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Ecological Momentary Assessment in Mental Health Research" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/cover/smallcover.jpg" />
  <meta property="og:description" content="This is an Amsterdam Public Health (APH) Research Manual, written for researchers who are planning Ecological Momentary Assessment (EMA) studies." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Ecological Momentary Assessment in Mental Health Research" />
  
  <meta name="twitter:description" content="This is an Amsterdam Public Health (APH) Research Manual, written for researchers who are planning Ecological Momentary Assessment (EMA) studies." />
  <meta name="twitter:image" content="images/cover/smallcover.jpg" />

<meta name="author" content="Jeroen Ruwaard">
<meta name="author" content="Lisa Kooistra">
<meta name="author" content="Melissa Thong">


<meta name="date" content="2018-11-18">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="introduction.html">
<link rel="next" href="methods.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; }
td.sourceCode { padding-left: 5px; }
code > span.kw { font-weight: bold; } /* Keyword */
code > span.dt { text-decoration: underline; } /* DataType */
code > span.co { font-style: italic; } /* Comment */
code > span.al { font-weight: bold; } /* Alert */
code > span.er { font-weight: bold; } /* Error */
code > span.wa { font-style: italic; } /* Warning */
code > span.cf { font-weight: bold; } /* ControlFlow */
code > span.pp { font-weight: bold; } /* Preprocessor */
code > span.do { font-style: italic; } /* Documentation */
code > span.an { font-style: italic; } /* Annotation */
code > span.cv { font-style: italic; } /* CommentVar */
code > span.in { font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">EMA research Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introducing EMA</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#what-is-ema"><i class="fa fa-check"></i><b>1.1</b> What is EMA?</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction.html"><a href="introduction.html#active-versus-passive-ema"><i class="fa fa-check"></i><b>1.1.1</b> Active versus Passive EMA</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction.html"><a href="introduction.html#ema-sampling"><i class="fa fa-check"></i><b>1.1.2</b> EMA Sampling</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#why-ema"><i class="fa fa-check"></i><b>1.2</b> Why EMA?</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduction.html"><a href="introduction.html#to-minimize-recall-bias"><i class="fa fa-check"></i><b>1.2.1</b> To Minimize Recall Bias</a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction.html"><a href="introduction.html#to-maximize-ecological-validity"><i class="fa fa-check"></i><b>1.2.2</b> To Maximize Ecological Validity</a></li>
<li class="chapter" data-level="1.2.3" data-path="introduction.html"><a href="introduction.html#to-advance-ideographic-research"><i class="fa fa-check"></i><b>1.2.3</b> To Advance Ideographic Research</a></li>
<li class="chapter" data-level="1.2.4" data-path="introduction.html"><a href="introduction.html#to-understand-the-dynamic-interplay-between-symptoms"><i class="fa fa-check"></i><b>1.2.4</b> To Understand the Dynamic Interplay between Symptoms</a></li>
<li class="chapter" data-level="1.2.5" data-path="introduction.html"><a href="introduction.html#to-enable-emi"><i class="fa fa-check"></i><b>1.2.5</b> To Enable EMI</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#ema-research-findings-a-birds-eye-view"><i class="fa fa-check"></i><b>1.3</b> EMA Research Findings: A Birds-eye View</a><ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#active-ema"><i class="fa fa-check"></i><b>1.3.1</b> Active EMA</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#passive-ema"><i class="fa fa-check"></i><b>1.3.2</b> Passive EMA</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#limitations"><i class="fa fa-check"></i><b>1.3.3</b> Limitations</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#what-is-in-this-manual"><i class="fa fa-check"></i><b>1.4</b> What is in this Manual?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>2</b> Introducing R &amp; RStudio</a><ul>
<li class="chapter" data-level="2.1" data-path="rstudio.html"><a href="rstudio.html#what-are-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> What are R and RStudio?</a></li>
<li class="chapter" data-level="2.2" data-path="rstudio.html"><a href="rstudio.html#why-r"><i class="fa fa-check"></i><b>2.2</b> Why R?</a></li>
<li class="chapter" data-level="2.3" data-path="rstudio.html"><a href="rstudio.html#installing-r-rstudio"><i class="fa fa-check"></i><b>2.3</b> Installing R &amp; RStudio</a></li>
<li class="chapter" data-level="2.4" data-path="rstudio.html"><a href="rstudio.html#interacting-with-r-through-the-rstudio-console"><i class="fa fa-check"></i><b>2.4</b> Interacting with R through the RStudio Console</a></li>
<li class="chapter" data-level="2.5" data-path="rstudio.html"><a href="rstudio.html#writing-r-scripts"><i class="fa fa-check"></i><b>2.5</b> Writing R-scripts</a></li>
<li class="chapter" data-level="2.6" data-path="rstudio.html"><a href="rstudio.html#importing-your-data"><i class="fa fa-check"></i><b>2.6</b> Importing Your Data</a><ul>
<li class="chapter" data-level="2.6.1" data-path="rstudio.html"><a href="rstudio.html#using-rstudio-menus-to-import-data"><i class="fa fa-check"></i><b>2.6.1</b> Using RStudio Menus to Import Data</a></li>
<li class="chapter" data-level="2.6.2" data-path="rstudio.html"><a href="rstudio.html#using-functions-to-import-data"><i class="fa fa-check"></i><b>2.6.2</b> Using Functions to Import Data</a></li>
<li class="chapter" data-level="2.6.3" data-path="rstudio.html"><a href="rstudio.html#accessing-your-data"><i class="fa fa-check"></i><b>2.6.3</b> Accessing your Data</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="rstudio.html"><a href="rstudio.html#extending-r-with-packages"><i class="fa fa-check"></i><b>2.7</b> Extending R with Packages</a><ul>
<li class="chapter" data-level="2.7.1" data-path="rstudio.html"><a href="rstudio.html#installing-r-packages-from-cran"><i class="fa fa-check"></i><b>2.7.1</b> Installing R-packages from CRAN</a></li>
<li class="chapter" data-level="2.7.2" data-path="rstudio.html"><a href="rstudio.html#installing-r-packages-from-github"><i class="fa fa-check"></i><b>2.7.2</b> Installing R-packages from GitHub</a></li>
<li class="chapter" data-level="2.7.3" data-path="rstudio.html"><a href="rstudio.html#using-packages"><i class="fa fa-check"></i><b>2.7.3</b> Using Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="rstudio.html"><a href="rstudio.html#getting-help"><i class="fa fa-check"></i><b>2.8</b> Getting Help</a><ul>
<li class="chapter" data-level="2.8.1" data-path="rstudio.html"><a href="rstudio.html#using-to-consult-the-documentation"><i class="fa fa-check"></i><b>2.8.1</b> Using ‘?’ to Consult the Documentation</a></li>
<li class="chapter" data-level="2.8.2" data-path="rstudio.html"><a href="rstudio.html#using-rstudios-global-documentation-index-search"><i class="fa fa-check"></i><b>2.8.2</b> Using RStudio’s Global Documentation Index Search</a></li>
<li class="chapter" data-level="2.8.3" data-path="rstudio.html"><a href="rstudio.html#learning-from-examples"><i class="fa fa-check"></i><b>2.8.3</b> Learning from Examples</a></li>
<li class="chapter" data-level="2.8.4" data-path="rstudio.html"><a href="rstudio.html#google"><i class="fa fa-check"></i><b>2.8.4</b> Google</a></li>
<li class="chapter" data-level="2.8.5" data-path="rstudio.html"><a href="rstudio.html#read-books"><i class="fa fa-check"></i><b>2.8.5</b> Read Books</a></li>
<li class="chapter" data-level="2.8.6" data-path="rstudio.html"><a href="rstudio.html#online-courses"><i class="fa fa-check"></i><b>2.8.6</b> Online Courses</a></li>
<li class="chapter" data-level="2.8.7" data-path="rstudio.html"><a href="rstudio.html#learn-r-in-r"><i class="fa fa-check"></i><b>2.8.7</b> Learn R, in R</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II EMA Methods</b></span></li>
<li class="chapter" data-level="3" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>3</b> Study Design</a><ul>
<li class="chapter" data-level="3.1" data-path="methods.html"><a href="methods.html#what-is-the-ema-research-question"><i class="fa fa-check"></i><b>3.1</b> What is the EMA Research Question?</a></li>
<li class="chapter" data-level="3.2" data-path="methods.html"><a href="methods.html#who-are-the-study-participants"><i class="fa fa-check"></i><b>3.2</b> Who are the Study Participants?</a></li>
<li class="chapter" data-level="3.3" data-path="methods.html"><a href="methods.html#what-are-the-qualities-of-the-ema-measures"><i class="fa fa-check"></i><b>3.3</b> What are the Qualities of the EMA Measures?</a></li>
<li class="chapter" data-level="3.4" data-path="methods.html"><a href="methods.html#what-is-the-sample-plan"><i class="fa fa-check"></i><b>3.4</b> What is the Sample Plan?</a></li>
<li class="chapter" data-level="3.5" data-path="methods.html"><a href="methods.html#what-is-the-optimal-sample-size"><i class="fa fa-check"></i><b>3.5</b> What is the Optimal Sample Size?</a></li>
<li class="chapter" data-level="3.6" data-path="methods.html"><a href="methods.html#what-are-the-ethical-aspects"><i class="fa fa-check"></i><b>3.6</b> What are the Ethical Aspects?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="datamanagement.html"><a href="datamanagement.html"><i class="fa fa-check"></i><b>4</b> Data Management</a><ul>
<li class="chapter" data-level="4.1" data-path="datamanagement.html"><a href="datamanagement.html#using-rstudio-projects"><i class="fa fa-check"></i><b>4.1</b> Using RStudio-projects</a></li>
<li class="chapter" data-level="4.2" data-path="datamanagement.html"><a href="datamanagement.html#an-example-project-directory-structure"><i class="fa fa-check"></i><b>4.2</b> An Example Project Directory Structure</a></li>
<li class="chapter" data-level="4.3" data-path="datamanagement.html"><a href="datamanagement.html#data"><i class="fa fa-check"></i><b>4.3</b> Data</a></li>
<li class="chapter" data-level="4.4" data-path="datamanagement.html"><a href="datamanagement.html#import-scripts"><i class="fa fa-check"></i><b>4.4</b> Import Scripts</a></li>
<li class="chapter" data-level="4.5" data-path="datamanagement.html"><a href="datamanagement.html#cleaning"><i class="fa fa-check"></i><b>4.5</b> Cleaning</a></li>
<li class="chapter" data-level="4.6" data-path="datamanagement.html"><a href="datamanagement.html#pre-process"><i class="fa fa-check"></i><b>4.6</b> Pre-process</a></li>
<li class="chapter" data-level="4.7" data-path="datamanagement.html"><a href="datamanagement.html#combine"><i class="fa fa-check"></i><b>4.7</b> Combine</a></li>
<li class="chapter" data-level="4.8" data-path="datamanagement.html"><a href="datamanagement.html#reproducible-analyses"><i class="fa fa-check"></i><b>4.8</b> Reproducible Analyses</a></li>
<li class="chapter" data-level="4.9" data-path="datamanagement.html"><a href="datamanagement.html#documentation"><i class="fa fa-check"></i><b>4.9</b> Documentation</a><ul>
<li class="chapter" data-level="4.9.1" data-path="datamanagement.html"><a href="datamanagement.html#protocol"><i class="fa fa-check"></i><b>4.9.1</b> Protocol</a></li>
<li class="chapter" data-level="4.9.2" data-path="datamanagement.html"><a href="datamanagement.html#readme"><i class="fa fa-check"></i><b>4.9.2</b> README</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="datamanagement.html"><a href="datamanagement.html#discussion"><i class="fa fa-check"></i><b>4.10</b> Discussion</a></li>
</ul></li>
<li class="part"><span><b>III EMA Outcomes</b></span></li>
<li class="chapter" data-level="5" data-path="mood.html"><a href="mood.html"><i class="fa fa-check"></i><b>5</b> Mood</a><ul>
<li class="chapter" data-level="5.1" data-path="mood.html"><a href="mood.html#unidimensional-mood-assessment"><i class="fa fa-check"></i><b>5.1</b> Unidimensional Mood Assessment</a><ul>
<li class="chapter" data-level="5.1.1" data-path="mood.html"><a href="mood.html#bipolar-unidimensional-items"><i class="fa fa-check"></i><b>5.1.1</b> Bipolar Unidimensional Items</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="mood.html"><a href="mood.html#bag-of-items"><i class="fa fa-check"></i><b>5.2</b> Bag-of-Items</a></li>
<li class="chapter" data-level="5.3" data-path="mood.html"><a href="mood.html#multi-dimensional-mood-assessment"><i class="fa fa-check"></i><b>5.3</b> Multi-dimensional Mood Assessment</a><ul>
<li class="chapter" data-level="5.3.1" data-path="mood.html"><a href="mood.html#the-circumplex-model"><i class="fa fa-check"></i><b>5.3.1</b> The Circumplex Model</a></li>
<li class="chapter" data-level="5.3.2" data-path="mood.html"><a href="mood.html#negative-positive-affect"><i class="fa fa-check"></i><b>5.3.2</b> Negative &amp; Positive Affect</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="activity.html"><a href="activity.html"><i class="fa fa-check"></i><b>6</b> Activity</a><ul>
<li class="chapter" data-level="6.1" data-path="activity.html"><a href="activity.html#actigraphy"><i class="fa fa-check"></i><b>6.1</b> Actigraphy</a><ul>
<li class="chapter" data-level="6.1.1" data-path="activity.html"><a href="activity.html#data-cleaning"><i class="fa fa-check"></i><b>6.1.1</b> Data cleaning</a></li>
<li class="chapter" data-level="6.1.2" data-path="activity.html"><a href="activity.html#feature-extraction"><i class="fa fa-check"></i><b>6.1.2</b> Feature Extraction</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="activity.html"><a href="activity.html#geotracking"><i class="fa fa-check"></i><b>6.2</b> Geotracking</a><ul>
<li class="chapter" data-level="6.2.1" data-path="activity.html"><a href="activity.html#the-geographic-coordinate-system"><i class="fa fa-check"></i><b>6.2.1</b> The Geographic Coordinate System</a></li>
<li class="chapter" data-level="6.2.2" data-path="activity.html"><a href="activity.html#the-global-positioning-system"><i class="fa fa-check"></i><b>6.2.2</b> The Global Positioning System</a></li>
<li class="chapter" data-level="6.2.3" data-path="activity.html"><a href="activity.html#gps-based-activity-measures"><i class="fa fa-check"></i><b>6.2.3</b> GPS-based Activity Measures</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Analytic Approaches</b></span></li>
<li class="chapter" data-level="7" data-path="features.html"><a href="features.html"><i class="fa fa-check"></i><b>7</b> Feature Extraction</a><ul>
<li class="chapter" data-level="7.1" data-path="features.html"><a href="features.html#simulated-ema-time-series-example"><i class="fa fa-check"></i><b>7.1</b> Simulated EMA Time-series Example</a></li>
<li class="chapter" data-level="7.2" data-path="features.html"><a href="features.html#central-tendency-and-variability"><i class="fa fa-check"></i><b>7.2</b> Central Tendency and Variability</a></li>
<li class="chapter" data-level="7.3" data-path="features.html"><a href="features.html#modelling-the-trend"><i class="fa fa-check"></i><b>7.3</b> Modelling the Trend</a></li>
<li class="chapter" data-level="7.4" data-path="features.html"><a href="features.html#missing-values"><i class="fa fa-check"></i><b>7.4</b> Missing Values</a></li>
<li class="chapter" data-level="7.5" data-path="features.html"><a href="features.html#auto-correlation"><i class="fa fa-check"></i><b>7.5</b> Auto-correlation</a><ul>
<li class="chapter" data-level="7.5.1" data-path="features.html"><a href="features.html#rolling-statistics"><i class="fa fa-check"></i><b>7.5.1</b> Rolling Statistics</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="features.html"><a href="features.html#periodicity"><i class="fa fa-check"></i><b>7.6</b> Periodicity</a></li>
<li class="chapter" data-level="7.7" data-path="features.html"><a href="features.html#discussion-1"><i class="fa fa-check"></i><b>7.7</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="lmm.html"><a href="lmm.html"><i class="fa fa-check"></i><b>8</b> Mixed Modeling</a><ul>
<li class="chapter" data-level="8.1" data-path="lmm.html"><a href="lmm.html#the-mixed-model"><i class="fa fa-check"></i><b>8.1</b> The Mixed Model</a></li>
<li class="chapter" data-level="8.2" data-path="lmm.html"><a href="lmm.html#simulating-example-data"><i class="fa fa-check"></i><b>8.2</b> Simulating Example Data</a></li>
<li class="chapter" data-level="8.3" data-path="lmm.html"><a href="lmm.html#fitting-a-mixed-model-in-r"><i class="fa fa-check"></i><b>8.3</b> Fitting a Mixed Model in R</a></li>
<li class="chapter" data-level="8.4" data-path="lmm.html"><a href="lmm.html#adding-time-as-a-predictor"><i class="fa fa-check"></i><b>8.4</b> Adding Time as a Predictor</a></li>
<li class="chapter" data-level="8.5" data-path="lmm.html"><a href="lmm.html#adding-a-two-group-comparison"><i class="fa fa-check"></i><b>8.5</b> Adding a Two-Group Comparison</a></li>
<li class="chapter" data-level="8.6" data-path="lmm.html"><a href="lmm.html#next-steps"><i class="fa fa-check"></i><b>8.6</b> Next Steps</a></li>
</ul></li>
<li class="part"><span><b>V A Case Study</b></span></li>
<li class="chapter" data-level="9" data-path="csd.html"><a href="csd.html"><i class="fa fa-check"></i><b>9</b> Early Warning Signs of Depression</a><ul>
<li class="chapter" data-level="9.1" data-path="csd.html"><a href="csd.html#critical-slowing-down"><i class="fa fa-check"></i><b>9.1</b> Critical Slowing Down</a></li>
<li class="chapter" data-level="9.2" data-path="csd.html"><a href="csd.html#plotting-the-course-of-depression"><i class="fa fa-check"></i><b>9.2</b> Plotting the Course of Depression</a></li>
<li class="chapter" data-level="9.3" data-path="csd.html"><a href="csd.html#mental-state-ema-items"><i class="fa fa-check"></i><b>9.3</b> Mental state EMA Items</a></li>
<li class="chapter" data-level="9.4" data-path="csd.html"><a href="csd.html#running-the-dfa"><i class="fa fa-check"></i><b>9.4</b> Running the DFA</a></li>
<li class="chapter" data-level="9.5" data-path="csd.html"><a href="csd.html#results"><i class="fa fa-check"></i><b>9.5</b> Results</a></li>
<li class="chapter" data-level="9.6" data-path="csd.html"><a href="csd.html#discussion-2"><i class="fa fa-check"></i><b>9.6</b> Discussion</a></li>
</ul></li>
<li class="part"><span><b>VI EMA Catalogues</b></span></li>
<li class="chapter" data-level="10" data-path="catalogue.html"><a href="catalogue.html"><i class="fa fa-check"></i><b>10</b> EMA Research within the APH Mental Health Consortium</a><ul>
<li class="chapter" data-level="10.1" data-path="catalogue.html"><a href="catalogue.html#depression"><i class="fa fa-check"></i><b>10.1</b> Depression</a><ul>
<li class="chapter" data-level="10.1.1" data-path="catalogue.html"><a href="catalogue.html#bockting"><i class="fa fa-check"></i><b>10.1.1</b> Bockting</a></li>
<li class="chapter" data-level="10.1.2" data-path="catalogue.html"><a href="catalogue.html#penninx-and-lamers"><i class="fa fa-check"></i><b>10.1.2</b> Penninx and Lamers</a></li>
<li class="chapter" data-level="10.1.3" data-path="catalogue.html"><a href="catalogue.html#riper-and-smit"><i class="fa fa-check"></i><b>10.1.3</b> Riper and Smit</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="catalogue.html"><a href="catalogue.html#psychosomatic-symptoms"><i class="fa fa-check"></i><b>10.2</b> Psychosomatic Symptoms</a><ul>
<li class="chapter" data-level="10.2.1" data-path="catalogue.html"><a href="catalogue.html#knoop"><i class="fa fa-check"></i><b>10.2.1</b> Knoop</a></li>
<li class="chapter" data-level="10.2.2" data-path="catalogue.html"><a href="catalogue.html#sprangers"><i class="fa fa-check"></i><b>10.2.2</b> Sprangers</a></li>
<li class="chapter" data-level="10.2.3" data-path="catalogue.html"><a href="catalogue.html#snoek"><i class="fa fa-check"></i><b>10.2.3</b> Snoek</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="catalogue.html"><a href="catalogue.html#suicidal-ideation"><i class="fa fa-check"></i><b>10.3</b> Suicidal Ideation</a><ul>
<li class="chapter" data-level="10.3.1" data-path="catalogue.html"><a href="catalogue.html#van-ballegooijen"><i class="fa fa-check"></i><b>10.3.1</b> Van Ballegooijen</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="catalogue.html"><a href="catalogue.html#psychotic-symptoms"><i class="fa fa-check"></i><b>10.4</b> Psychotic symptoms</a><ul>
<li class="chapter" data-level="10.4.1" data-path="catalogue.html"><a href="catalogue.html#van-der-gaag"><i class="fa fa-check"></i><b>10.4.1</b> Van der Gaag</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="catalogue.html"><a href="catalogue.html#sleep"><i class="fa fa-check"></i><b>10.5</b> Sleep</a><ul>
<li class="chapter" data-level="10.5.1" data-path="catalogue.html"><a href="catalogue.html#van-someren"><i class="fa fa-check"></i><b>10.5.1</b> Van Someren</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="catalogue.html"><a href="catalogue.html#stress-emotion"><i class="fa fa-check"></i><b>10.6</b> Stress &amp; Emotion</a><ul>
<li class="chapter" data-level="10.6.1" data-path="catalogue.html"><a href="catalogue.html#de-geus"><i class="fa fa-check"></i><b>10.6.1</b> De Geus</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ema-instruments-catalogue.html"><a href="ema-instruments-catalogue.html"><i class="fa fa-check"></i><b>11</b> EMA Instruments Catalogue</a><ul>
<li class="chapter" data-level="11.1" data-path="ema-instruments-catalogue.html"><a href="ema-instruments-catalogue.html#ema-platforms-apps"><i class="fa fa-check"></i><b>11.1</b> EMA Platforms &amp; Apps</a><ul>
<li class="chapter" data-level="11.1.1" data-path="ema-instruments-catalogue.html"><a href="ema-instruments-catalogue.html#ilumivu"><i class="fa fa-check"></i><b>11.1.1</b> Ilumivu</a></li>
<li class="chapter" data-level="11.1.2" data-path="ema-instruments-catalogue.html"><a href="ema-instruments-catalogue.html#moodbuster"><i class="fa fa-check"></i><b>11.1.2</b> Moodbuster</a></li>
<li class="chapter" data-level="11.1.3" data-path="ema-instruments-catalogue.html"><a href="ema-instruments-catalogue.html#movisens"><i class="fa fa-check"></i><b>11.1.3</b> Movisens</a></li>
<li class="chapter" data-level="11.1.4" data-path="ema-instruments-catalogue.html"><a href="ema-instruments-catalogue.html#psymate"><i class="fa fa-check"></i><b>11.1.4</b> PsyMate</a></li>
<li class="chapter" data-level="11.1.5" data-path="ema-instruments-catalogue.html"><a href="ema-instruments-catalogue.html#roqua"><i class="fa fa-check"></i><b>11.1.5</b> RoQua</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="ema-instruments-catalogue.html"><a href="ema-instruments-catalogue.html#wearables"><i class="fa fa-check"></i><b>11.2</b> Wearables</a><ul>
<li class="chapter" data-level="11.2.1" data-path="ema-instruments-catalogue.html"><a href="ema-instruments-catalogue.html#geneactiv"><i class="fa fa-check"></i><b>11.2.1</b> GENEActiv</a></li>
<li class="chapter" data-level="11.2.2" data-path="ema-instruments-catalogue.html"><a href="ema-instruments-catalogue.html#vu-ams"><i class="fa fa-check"></i><b>11.2.2</b> VU-AMS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="rcat.html"><a href="rcat.html"><i class="fa fa-check"></i><b>12</b> R Packages for EMA Research</a><ul>
<li class="chapter" data-level="12.0.1" data-path="rcat.html"><a href="rcat.html#genearead"><i class="fa fa-check"></i><b>12.0.1</b> GENEAread</a></li>
<li class="chapter" data-level="12.0.2" data-path="rcat.html"><a href="rcat.html#ggir"><i class="fa fa-check"></i><b>12.0.2</b> GGIR</a></li>
<li class="chapter" data-level="12.0.3" data-path="rcat.html"><a href="rcat.html#physicalactivity"><i class="fa fa-check"></i><b>12.0.3</b> PhysicalActivity</a></li>
<li class="chapter" data-level="12.1" data-path="rcat.html"><a href="rcat.html#autoregressive-modeling"><i class="fa fa-check"></i><b>12.1</b> Autoregressive modeling</a><ul>
<li class="chapter" data-level="12.1.1" data-path="rcat.html"><a href="rcat.html#autovarcore"><i class="fa fa-check"></i><b>12.1.1</b> autovarCore</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="rcat.html"><a href="rcat.html#data-management-visual-exploration"><i class="fa fa-check"></i><b>12.2</b> Data management &amp; Visual Exploration</a><ul>
<li class="chapter" data-level="12.2.1" data-path="rcat.html"><a href="rcat.html#dplyr"><i class="fa fa-check"></i><b>12.2.1</b> dplyr</a></li>
<li class="chapter" data-level="12.2.2" data-path="rcat.html"><a href="rcat.html#ggplot2"><i class="fa fa-check"></i><b>12.2.2</b> ggplot2</a></li>
<li class="chapter" data-level="12.2.3" data-path="rcat.html"><a href="rcat.html#haven"><i class="fa fa-check"></i><b>12.2.3</b> haven</a></li>
<li class="chapter" data-level="12.2.4" data-path="rcat.html"><a href="rcat.html#lubridate"><i class="fa fa-check"></i><b>12.2.4</b> lubridate</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="rcat.html"><a href="rcat.html#mixed-effects-modeling"><i class="fa fa-check"></i><b>12.3</b> Mixed-effects Modeling</a><ul>
<li class="chapter" data-level="12.3.1" data-path="rcat.html"><a href="rcat.html#nlme"><i class="fa fa-check"></i><b>12.3.1</b> nlme</a></li>
<li class="chapter" data-level="12.3.2" data-path="rcat.html"><a href="rcat.html#lme4"><i class="fa fa-check"></i><b>12.3.2</b> lme4</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="rcat.html"><a href="rcat.html#simulation"><i class="fa fa-check"></i><b>12.4</b> Simulation</a><ul>
<li class="chapter" data-level="12.4.1" data-path="rcat.html"><a href="rcat.html#simr"><i class="fa fa-check"></i><b>12.4.1</b> simr</a></li>
<li class="chapter" data-level="12.4.2" data-path="rcat.html"><a href="rcat.html#simstudy"><i class="fa fa-check"></i><b>12.4.2</b> simstudy</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="rcat.html"><a href="rcat.html#symptom-network-analysis"><i class="fa fa-check"></i><b>12.5</b> Symptom Network Analysis</a><ul>
<li class="chapter" data-level="12.5.1" data-path="rcat.html"><a href="rcat.html#qgraph"><i class="fa fa-check"></i><b>12.5.1</b> qgraph</a></li>
<li class="chapter" data-level="12.5.2" data-path="rcat.html"><a href="rcat.html#bootnet"><i class="fa fa-check"></i><b>12.5.2</b> bootnet</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="rcat.html"><a href="rcat.html#timeseries-analysis"><i class="fa fa-check"></i><b>12.6</b> Timeseries analysis</a><ul>
<li class="chapter" data-level="12.6.1" data-path="rcat.html"><a href="rcat.html#lomb"><i class="fa fa-check"></i><b>12.6.1</b> lomb</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VII Closing Matters</b></span></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ecological Momentary Assessment in Mental Health Research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rstudio" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Introducing R &amp; RStudio</h1>

<p>In this chapter, you will learn how to install and use two programs that are indispensable for the management and analysis of EMA data: R and RStudio.</p>
<div id="what-are-r-and-rstudio" class="section level2">
<h2><span class="header-section-number">2.1</span> What are R and RStudio?</h2>
<p>R is a programming language and software environment for statistical computing and data visualization. RStudio is a powerful user interface to R. It has many useful features that greatly simplify R-work. We strongly advise you to adopt the R/RStudio-combo.</p>
</div>
<div id="why-r" class="section level2">
<h2><span class="header-section-number">2.2</span> Why R?</h2>

<p>R, you may have been told, is for data scientists, methodologists, and scientific programmers only. It has a steep learning curve. If you are trained in SPSS, it will take time to become as productive in R as in SPSS. Why then, should you invest in R?</p>
<ul>
<li><p>Unlike SPSS, R is free of charge. It does not eat up your budget. Why pay for something that you can get for free?</p></li>
<li><p>R is cutting-edge. Methodological innovations first appear in R. Network analyses, for example, can be run in R, but not (yet) in SPSS. For some analyses, you need this alternative.</p></li>
<li><p>Mastering R improves your connection to the statisticians in your team. They probably prefer R over SPSS. It is more efficient and less error-prone to all speak the same language.</p></li>
<li><p>R is great for data-management. Clinical research, and especially EMA research, requires hundreds of operations on multiple raw data files. R excels at that. SPSS, frankly, does not. If you care about reproducible research (which you should), R can be a great help in putting it into practice.</p></li>
<li><p>R can be used at different levels. If you want to be a basic user, that’s fine. However, if you want to dive deeper, you will find that you can easily do so. You can study source code to understand a particular technique better. You can code new functions. R allows you to grow.</p></li>
<li><p>R’s user base is expanding every year. Chances are high that R will be the standard in your next workplace. R will look great on your CV.</p></li>
</ul>
<p>You don’t have to be a programmer or methodologist to use R. Yes, it takes time to unlock its full potential, but you should be able to run basic analyses in it within a week. This chapter will get you started.</p>
</div>
<div id="installing-r-rstudio" class="section level2">
<h2><span class="header-section-number">2.3</span> Installing R &amp; RStudio</h2>

<p>Both R and RStudio are available, at no costs, for all major operating systems.</p>
<ul>
<li><p>Download R from the Comprehensive R Archive Network (CRAN), at <a href="https://cran.r-project.org/bin/" class="uri">https://cran.r-project.org/bin/</a></p></li>
<li><p>Download RStudio from <a href="http://rstudio.org" class="uri">http://rstudio.org</a></p></li>
</ul>
<p>Install R first, and RStudio second. If you install the programs in this order, RStudio will automatically find R on your computer.</p>
<p>If you installed R or RStudio previously, please update. This manual assumes you will be working with version 3.4.2 (or higher) of R, and version 1.1.414 (or higher) of RStudio.</p>
</div>
<div id="interacting-with-r-through-the-rstudio-console" class="section level2">
<h2><span class="header-section-number">2.4</span> Interacting with R through the RStudio Console</h2>

<p>If you open RStudio, you will be presented with the interface shown in Figure <a href="rstudio.html#fig:r-interface">2.1</a>. RStudio’s main window is divided in four panes (sub-windows), which further contain several tabbed windows.</p>
<div class="figure" style="text-align: center"><span id="fig:r-interface"></span>
<img src="images/R/rstudio.png" alt="The RStudio Interface" width="98%" />
<p class="caption">
Figure 2.1: The RStudio Interface
</p>
</div>
<p>Commands are sent to R in the bottom-left pane, named “Console”. To test this, move your cursor to the bottom line, immediately after the prompt sign (<code>&gt;</code>). Next, type the statement below (note that <code>#</code> denotes a comment line; R ignores it, so there is no immediate need to type that). To execute, press <code>Enter</code>.</p>
<p>R will execute the command and return the answer back to the console.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># R is a calculator.</span>
<span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span></code></pre></div>
<p>Results of calculations can be saved into variables, by making use of the assignment operator (<code>&lt;-</code>). If you type the name of a variable, R returns its value.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Use &lt;- to declare and set a variable.</span>
N &lt;-<span class="st"> </span><span class="dv">50</span> <span class="op">+</span><span class="st"> </span><span class="dv">50</span>
N
<span class="co">#&gt; [1] 100</span></code></pre></div>
<p>To understand why R is such a popular tool for statistical computing, consider the following command, which, in one line, 1) uses the variable N, just created, to 2) generate 100 random numbers from the normal distribution, and 3) plot a histogram of these numbers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot the histogram of a sample from the normal distribution.</span>
<span class="kw">hist</span>(<span class="kw">rnorm</span>(N))</code></pre></div>
<p>The plot appears in the bottom-right pane, as in Figure <a href="rstudio.html#fig:r-interface">2.1</a>.</p>
</div>
<div id="writing-r-scripts" class="section level2">
<h2><span class="header-section-number">2.5</span> Writing R-scripts</h2>

<p>Working in the console is a great way to interactively explore R and data, but what if you want to save a particularly useful chain of statements? For this, you can use a script file.</p>
<p>To create a script file, use the RStudio menu: <code>File &gt; New File &gt; R Script</code>. This will open a new tab in the top-left pane of RStudio, where you can edit the script.</p>
<ul>
<li><p>In the script window, type all statements that you have been entering in the console in the previous section.</p></li>
<li><p>Next, select all lines in the script.</p></li>
<li><p>Press <code>Ctrl+Enter</code> to run the script.</p></li>
</ul>
<p>All commands in the script are executed. The commands are echoed in the console pane, and results are shown immediately, as was the case before, when you typed the commands in the console yourself.</p>
<p>Scripts can also be run line by line. Move the cursor to the line you want to run, and press <code>Ctrl+Enter</code>. The line is copied to the console and executed, and the cursor in the script will move to the next line, allowing you to walk through the script, step by step.</p>
</div>
<div id="importing-your-data" class="section level2">
<h2><span class="header-section-number">2.6</span> Importing Your Data</h2>

<p>Something that confuses new RStudio users, who are more familiar with SPSS, is that it is not obvious how to import data into RStudio. In SPSS, the data are in plain sight. In R, you first have to import the data.</p>
<div id="using-rstudio-menus-to-import-data" class="section level3">
<h3><span class="header-section-number">2.6.1</span> Using RStudio Menus to Import Data</h3>
<p>One way to load data into R is to use RStudio’s data import wizard. Follow the steps below to see how this works with data stored in a comma-separated-values (csv) format, a common data format to which many programs, including SPSS and Excel, can export data to.</p>
<ul>
<li><p>Download the example csv data file at <a href="https://tinyurl.com/yczmjdat" class="uri">https://tinyurl.com/yczmjdat</a> (or create a csv-version of one of your own data files).</p></li>
<li><p>In RStudio’s menu, choose <code>File &gt; Import Dataset &gt; From Text (base)</code>.</p></li>
<li><p>In the window that appears, click on <code>Browse</code> to locate the csv- file on your computer, and click <code>Import</code> in the next window (see Figure <a href="rstudio.html#fig:r-import">2.2</a>).</p></li>
</ul>
<p>RStudio shows the data, in tabular view, in the top-left window, ready for analysis. You will also find a new entry in the <code>Environment</code>-tab in the top-right pane. When you click the small arrow, at the left of the name, you will see a brief summary of the contents of the data.</p>
<div class="figure" style="text-align: center"><span id="fig:r-import"></span>
<img src="images/R/csv_import.png" alt="RStudio's CSV import wizard." width="98%" />
<p class="caption">
Figure 2.2: RStudio’s CSV import wizard.
</p>
</div>
</div>
<div id="using-functions-to-import-data" class="section level3">
<h3><span class="header-section-number">2.6.2</span> Using Functions to Import Data</h3>
<p>While RStudio’s Data import wizard is useful, you will probably use it less over time. Most likely, you will convert to using the more efficient R commands to import data. For example, it takes only a single line to download and import the example data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Import csv-data, from the internet.</span>
ESMdata &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="kw">url</span>(<span class="st">&quot;https://tinyurl.com/yczmjdat&quot;</span>), <span class="dt">row.names =</span> <span class="ot">NULL</span>)</code></pre></div>
</div>
<div id="accessing-your-data" class="section level3">
<h3><span class="header-section-number">2.6.3</span> Accessing your Data</h3>

<p>Since the data is now in the environment (under the name <code>ESMdata</code>), you can use it in other R commands. For example, to produce a more detailed summary of the first four columns of <code>ESMdata</code>, you type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Summarize data.</span>
<span class="kw">summary</span>(ESMdata)
     dayno           beepno       mood_relaxed     mood_down      
 Min.   <span class="op">:</span><span class="st">  </span><span class="fl">1.0</span>   Min.   <span class="op">:</span><span class="st"> </span><span class="fl">1.00</span>   Min.   <span class="op">:</span><span class="fl">1.000</span>   Min.   <span class="op">:-</span><span class="fl">3.0000</span>  
 1st Qu.<span class="op">:</span><span class="st"> </span><span class="fl">61.0</span>   1st Qu.<span class="op">:</span><span class="st"> </span><span class="fl">3.00</span>   1st Qu.<span class="op">:</span><span class="fl">4.000</span>   1st Qu.<span class="op">:</span><span class="st"> </span><span class="fl">0.0000</span>  
 Median <span class="op">:</span><span class="fl">252.0</span>   Median <span class="op">:</span><span class="st"> </span><span class="fl">5.00</span>   Median <span class="op">:</span><span class="fl">4.000</span>   Median <span class="op">:</span><span class="st"> </span><span class="fl">0.0000</span>  
 Mean   <span class="op">:</span><span class="fl">198.9</span>   Mean   <span class="op">:</span><span class="st"> </span><span class="fl">5.24</span>   Mean   <span class="op">:</span><span class="fl">4.173</span>   Mean   <span class="op">:</span><span class="st"> </span><span class="fl">0.1784</span>  
 3rd Qu.<span class="op">:</span><span class="fl">303.0</span>   3rd Qu.<span class="op">:</span><span class="st"> </span><span class="fl">8.00</span>   3rd Qu.<span class="op">:</span><span class="fl">5.000</span>   3rd Qu.<span class="op">:</span><span class="st"> </span><span class="fl">0.0000</span>  
 Max.   <span class="op">:</span><span class="fl">366.0</span>   Max.   <span class="op">:</span><span class="fl">10.00</span>   Max.   <span class="op">:</span><span class="fl">7.000</span>   Max.   <span class="op">:</span><span class="st"> </span><span class="fl">3.0000</span>  
                                                 NA<span class="st">&#39;s   :2        </span>
<span class="st">  mood_irritat  </span>
<span class="st"> Min.   :1.000  </span>
<span class="st"> 1st Qu.:1.000  </span>
<span class="st"> Median :2.000  </span>
<span class="st"> Mean   :2.241  </span>
<span class="st"> 3rd Qu.:3.000  </span>
<span class="st"> Max.   :7.000  </span>
<span class="st"> NA&#39;</span>s   <span class="op">:</span><span class="dv">3</span>      </code></pre></div>
<p>To inspect the first 6 lines of data, type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Show first 6 lines of a data frame.</span>
<span class="kw">head</span>(ESMdata)
<span class="co">#&gt;   dayno beepno mood_relaxed mood_down mood_irritat</span>
<span class="co">#&gt; 1   226      1            5        -1            1</span>
<span class="co">#&gt; 2   227      5            4         0            3</span>
<span class="co">#&gt; 3   227      6            4         0            2</span>
<span class="co">#&gt; 4   227      8            4         0            1</span>
<span class="co">#&gt; 5   227      9            4         0            2</span>
<span class="co">#&gt; 6   227     10            5         0            1</span></code></pre></div>
<p>To view all rows of data in a spreadsheet (as in Figure <a href="rstudio.html#fig:r-import">2.2</a>), type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Show data as spreadsheet.</span>
<span class="kw">View</span>(ESMdata)</code></pre></div>
<p>To work with a specific variable in the data set, use <code>$</code>, for instance, to print the first 20 numbers in the <code>mood_relaxed</code> variable, type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Access a single variable in a data frame.</span>
<span class="kw">head</span>(ESMdata<span class="op">$</span>mood_relaxed, <span class="dt">n =</span> <span class="dv">20</span>)</code></pre></div>
<p>This allows you to apply functions to specific variables. For example, to calculate the mean of scores in <code>mood_relaxed</code>, type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Calculate the mean of a variable.</span>
<span class="kw">mean</span>(ESMdata<span class="op">$</span>mood_relaxed)
<span class="co">#&gt; [1] 4.173442</span></code></pre></div>
<p>There are many ways in which you can summarize and manipulate your data. At this point, the important milestone is that you have imported and accessed data in R.</p>
</div>
</div>
<div id="extending-r-with-packages" class="section level2">
<h2><span class="header-section-number">2.7</span> Extending R with Packages</h2>

<p>R’s attractiveness lies in the ease with which it can be extended with new functionality. Through so-called packages, which can be freely downloaded from the internet, specialized functions can be added to your work-space.</p>
<div id="installing-r-packages-from-cran" class="section level3">
<h3><span class="header-section-number">2.7.1</span> Installing R-packages from CRAN</h3>
<p> </p>
<p>Packages can be found at the CRAN website. To browse through the impressive list of available packages, see <a href="https://cran.r-project.org/web/packages/available_packages_by_name.html" class="uri">https://cran.r-project.org/web/packages/available_packages_by_name.html</a></p>
<p>If you find a package you like, you can install it via the RStudio menu system, choosing <code>Tools &gt; packages</code>. But you can also use the console, via the <code>install.package</code> function.</p>
<p>A popular package, <code>tidyverse</code>, is used extensively in the examples of this manual. This package comprises a set of popular packages from the creators of RStudio, that greatly simplify working with R. So, while you are at it, install this package now.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install a package from CRAN.</span>
<span class="kw">install.package</span>(tidyverse)</code></pre></div>
<p>The <code>tidyverse</code> contains a package called <code>haven</code>, which allows you to read and write SPSS data files (.sav files). This is very convenient. You don’t have to convert all your SPSS data to csv files. See <code>?read_spss</code> to learn how to import an SPSS-file (or use the data import wizard, by choosing <code>File &gt; Import Dataset &gt; From SPSS</code>, in RStudio’s top-right pane).</p>
</div>
<div id="installing-r-packages-from-github" class="section level3">
<h3><span class="header-section-number">2.7.2</span> Installing R-packages from GitHub</h3>
<p> </p>
<p>Not all packages are at CRAN. Many ‘unofficial’ packages are shared at a site called ‘GitHub’. This book’s companion R package <code>emaph</code>, for example, which contains specialized EMA functions data sets, is on GitHub. You need package emaph to run many examples in the book, so let’s install this package now.</p>
<p>GitHub packages can be installed via the <code>install_github</code> function, which is defined in a package called ‘devtools’. So, to install <code>emaph</code>, enter the following in the console:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install the GitHub &#39;emaph&#39; package.</span>
<span class="kw">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)
devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;jruwaard/emaph&quot;</span>)</code></pre></div>
</div>
<div id="using-packages" class="section level3">
<h3><span class="header-section-number">2.7.3</span> Using Packages</h3>

<p>To use packages, you have to tell R to load them, each session you want to work with them. You do this with the <code>library</code> function. For example, to use package <code>tidyverse</code> and <code>emaph</code>, type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load packages.</span>
<span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(emaph)</code></pre></div>
<p>Once loaded, you can use the functions and data sets of the packages. Package <code>emaph</code> provides data set <code>csd</code>, which contains the data from the ‘critical slowing down’-study <span class="citation">(Kossakowski, Groot, Haslbeck, Borsboom, &amp; Wichers, <a href="#ref-Kossakowski2017">2017</a>; Wichers, Groot, Psychosystems, ESM, &amp; EWS, <a href="#ref-Wichers2016">2016</a>)</span>, in which a patient recorded his mood, for 239 days (see also Chapter <a href="csd.html#csd">9</a>).</p>
<p>To plot the irritation levels of this patient in the first six days, using the <code>ggplot</code> function from package <code>ggplot2</code> (which is in <code>tidyverse</code>), type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Using ggplot to plot EMA time series.</span>
<span class="kw">ggplot</span>(<span class="dt">data =</span> <span class="kw">subset</span>(csd, dayno <span class="op">&lt;=</span><span class="st"> </span><span class="dv">6</span>),
       <span class="dt">mapping =</span>  <span class="kw">aes</span>(<span class="dt">x =</span> beepno, <span class="dt">y =</span> mood_irritat)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st">  </span><span class="kw">geom_step</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Irritation level&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>dayno, <span class="dt">nrow =</span> <span class="dv">2</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:r-irriplot"></span>
<img src="R_files/figure-html/r-irriplot-1.png" alt="Irritation levels of a single patient, in the first six days of an EMA study. Missing values were most prominent at day 1, and irritation varied most at day 3." width="100%" />
<p class="caption">
Figure 2.3: Irritation levels of a single patient, in the first six days of an EMA study. Missing values were most prominent at day 1, and irritation varied most at day 3.
</p>
</div>
</div>
</div>
<div id="getting-help" class="section level2">
<h2><span class="header-section-number">2.8</span> Getting Help</h2>

<p>R has no point-and-click menu’s that you can browse through to select a statistical procedure. This is a problem for many new users. What if you want, for example, to generate random numbers from a distribution with a mean of 2 and standard deviation of 4? How to tell this to R?</p>
<div id="using-to-consult-the-documentation" class="section level3">
<h3><span class="header-section-number">2.8.1</span> Using ‘?’ to Consult the Documentation</h3>
<p>The good thing is that you already know the name of the function to use, since we used it in the previous section: it is <code>rnorm</code>. To check the documentation of this function, type <code>?rnorm</code> in the console.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Use &#39;?&#39; to find the documentation of a function.</span>
?rnorm</code></pre></div>
<p>This opens the documentation of the <code>rnorm</code> function in the <code>Help</code>-tab, in the bottom right pane, from which you learn that that the <code>rnorm</code> function accepts <code>mean</code> and <code>sd</code> (standard deviation) as additional parameters, which are 0 and 1 default, respectively (which explains why <code>rnorm(100)</code> worked in the previous examples). So, to generate the required numbers, you type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot the histogram of a custom random sample.</span>
<span class="kw">hist</span>(<span class="kw">rnorm</span>(<span class="dv">1000</span>, <span class="dt">mean =</span> <span class="dv">2</span>, <span class="dt">sd =</span> <span class="dv">4</span>))</code></pre></div>
<p>All functions in R are documented, and this documentation is shown in RStudio’s Help pane when you prepend <code>?</code> to the name of the function in the console.</p>
</div>
<div id="using-rstudios-global-documentation-index-search" class="section level3">
<h3><span class="header-section-number">2.8.2</span> Using RStudio’s Global Documentation Index Search</h3>
<p>What if you do not know the name of a function? Suppose you want to run a t-test for independent groups. Does R have a function for that?</p>
<p>At the top-right of the <code>Help</code> pane, RStudio has a search input field, which allows you to search through all documentation that is installed on your computer. The search field auto-completes your input. If you type a ‘t’ in this field, you will be presented with a list of functions starting with a ‘t’. In this list, you find a likely candidate: a function called <code>t.test</code>. From the documentation of this function (<code>?t.test</code>), you learn that, indeed, this is the function you were looking for.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Run a t-test, on two simulated samples.</span>

<span class="co"># generate two samples (N = 100 per group) from the normal distribution</span>
A &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>); B &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>)

<span class="co"># the t-test should be non-significant </span>
<span class="kw">t.test</span>(A, B)
<span class="co">#&gt; </span>
<span class="co">#&gt;  Welch Two Sample t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  A and B</span>
<span class="co">#&gt; t = 1.3818, df = 197.51, p-value = 0.1686</span>
<span class="co">#&gt; alternative hypothesis: true difference in means is not equal to 0</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;  -0.08642111  0.49107244</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt;   mean of x   mean of y </span>
<span class="co">#&gt;  0.14157704 -0.06074863</span></code></pre></div>
</div>
<div id="learning-from-examples" class="section level3">
<h3><span class="header-section-number">2.8.3</span> Learning from Examples</h3>
<p>This book contains many R code snippets. By studying these examples, you will become more familiar with R.</p>
<p>Some examples will introduce R language constructs and functions that are unknown to you. Learn from these examples, by using <code>?</code> on each element that you do not understand.</p>
</div>
<div id="google" class="section level3">
<h3><span class="header-section-number">2.8.4</span> Google</h3>
<p>With Google, you will find many answers to your R questions. Googling for “t-test R”, for example, results in a rich set of online resources. Good resources are:</p>
<ul>
<li><p>RSeek (see <a href="http://rseek.org/" class="uri">http://rseek.org/</a>)</p></li>
<li><p>Stackoverflow: (see <a href="https://stackoverflow.com/questions/tagged/r" class="uri">https://stackoverflow.com/questions/tagged/r</a>)</p></li>
<li><p>SearchR (see: <a href="http://search.r-project.org/" class="uri">http://search.r-project.org/</a>)</p></li>
</ul>
</div>
<div id="read-books" class="section level3">
<h3><span class="header-section-number">2.8.5</span> Read Books</h3>
<p>This book does not provide a comprehensive tutorial. There is no need for that, since excellent resources are readily available. A selection is presented below.</p>
<ul>
<li><p>Many mental health researchers own a copy of Andy Field’s popular book “Discovering Statistics Using IBM SPSS Statistics” <span class="citation">(A. Field, <a href="#ref-FieldSPSS">2013</a>)</span>. For those, Field’s R-version of this book, “Discovering Statistics Using R” <span class="citation">(A. Field, Miles, &amp; Field, <a href="#ref-FieldR">2012</a>)</span> provides a familiar companion in making the transition to R. See <a href="https://www.discoveringstatistics.com/" class="uri">https://www.discoveringstatistics.com/</a></p></li>
<li><p>Free manuals can be found at the official CRAN site. The manuals are dry, but complete and authoritative, since the authors are members of the R core development team. See <a href="https://cran.r-project.org/manuals.html" class="uri">https://cran.r-project.org/manuals.html</a> (or type <code>help.start()</code> in the console).</p></li>
<li><p>While at CRAN, be sure to browse the ‘contributed documentation’-section. On this page, you will find many freely available manuals contributed by the R community. See <a href="https://cran.r-project.org/other-docs.html" class="uri">https://cran.r-project.org/other-docs.html</a></p></li>
</ul>
</div>
<div id="online-courses" class="section level3">
<h3><span class="header-section-number">2.8.6</span> Online Courses</h3>
<ul>
<li><p>DataCamp, an online data science education platform, offers several interactive courses in R. See <a href="http://www.datacamp.com" class="uri">http://www.datacamp.com</a></p></li>
<li><p>The Try-R course at the CodeSchool website provides an alternative to DataCamp. See: <a href="http://tryr.codeschool.com/" class="uri">http://tryr.codeschool.com/</a></p></li>
<li><p>The Quick-R website provides a concise introduction to R. See <a href="https://www.statmethods.net/" class="uri">https://www.statmethods.net/</a></p></li>
</ul>
</div>
<div id="learn-r-in-r" class="section level3">
<h3><span class="header-section-number">2.8.7</span> Learn R, in R</h3>

<p>Package <code>swirl</code> contains a set of interactive courses that teach many aspects of the R language. See <a href="http://swirlstats.com" class="uri">http://swirlstats.com</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Start the interactive swirl-course.</span>
<span class="kw">install.packages</span>(<span class="st">&quot;swirl&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;swirl&quot;</span>)
<span class="kw">swirl</span>()</code></pre></div>

</div>
</div>
</div>



<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Kossakowski2017">
<p>Kossakowski, J. J., Groot, P. C., Haslbeck, J. M. B., Borsboom, D., &amp; Wichers, M. (2017). Data from ‘critical slowing down as a personalized early warning signal for depression’. <em>Journal of Open Psychology Data</em>, <em>5</em>(1). <a href="https://doi.org/10.5334/jopd.29" class="uri">https://doi.org/10.5334/jopd.29</a></p>
</div>
<div id="ref-Wichers2016">
<p>Wichers, M., Groot, P. C., Psychosystems, ESM, &amp; EWS. (2016). Critical slowing down as a personalized early warning signal for depression. <em>Psychotherapy and Psychosomatics</em>, <em>85</em>(2), 114–116. <a href="https://doi.org/10.1159/000441458" class="uri">https://doi.org/10.1159/000441458</a></p>
</div>
<div id="ref-FieldSPSS">
<p>Field, A. (2013). <em>Discovering statistics using IBM SPSS statistics</em> (4th ed.). Sage Publications Ltd.</p>
</div>
<div id="ref-FieldR">
<p>Field, A., Miles, J., &amp; Field, Z. (2012). <em>Discovering Statistics Using R</em> (1st ed.). Paperback; SAGE Publications Ltd.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="methods.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["EMA_in_Mental_Health_Research.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
